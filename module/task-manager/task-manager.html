<link rel="stylesheet" href="/module/task-manager/task-manager.css">
<link rel="stylesheet" href="/assets/css/global.css">

<!-- ================= MODAL ================= -->
<div class="task-modal" id="taskModal">
  <div class="task-modal-content">

    <div class="task-modal-header">
      <div>
        <h3>âœ¨ Create New Task</h3>
        <p>Add a new task to your productivity list</p>
      </div>
      <span class="modal-close" id="closeModal">&times;</span>
    </div>

    <div class="task-modal-body">

      <label>Title</label>
      <div class="input-group">
        <input type="text" id="taskTitle" placeholder="Enter task title">
      </div>

      <label>Description</label>
      <textarea id="taskDesc" placeholder="Add task details..."></textarea>

      <div class="modal-row">
        <div>
          <label>Priority</label>
          <select id="taskPriority">
            <option>Low</option>
            <option selected>Medium</option>
            <option>High</option>
          </select>
        </div>

        <div>
          <label>Due Date</label>
          <input type="date" id="taskDate">
        </div>
      </div>

    </div>

    <div class="task-modal-footer">
      <button class="cancel-btn" id="cancelTask">Cancel</button>
      <button class="create-btn" id="createTask">Create Task</button>
    </div>

  </div>
</div>



<!-- ========= TASK PAGE =========  -->

<div class="task__container" id="task-content" class="content"> 

  <div class="task__header">
    <div class="task__logo__container">
      <div class="task__logo">
         <svg xmlns="http://www.w3.org/2000/svg"
          width="20" height="20" viewBox="0 0 24 24" 
          fill="none" stroke="white" stroke-width="2" 
          stroke-linecap="round" stroke-linejoin="round" 
          class="lucide lucide-square-check-big h-5 w-5 text-blue-600" 
          aria-hidden="true"><path d="M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"/>
          <path d="m9 11 3 3L22 4"/>
        </svg>
      </div>
       <div class="task__text">
        <p>Task Management</p>
        <span>Manage and track your tasks</span>
       </div>
    </div>
       
  </div>

  <div class="btn_task-management">
    <button class="task__summary_btn active">
    <img src="/assets/images/icons-dashboard/svg/checkbox_3.svg"
     alt=""
     style="width:16px; height:16px; margin-right: 6px;">
       My Tasks
    <button class="task__summary_btn"> 
       <img src="/assets/images/icons-dashboard/svg/summary_trend.svg"
     alt="Summary"
     style="width:16px; height:16px; margin-right: 6px;">
       AI Summary
      </button>
  </div>

  <div class="task__stat">
    <div class="task__card"> 
    <div class="task__field" id="active__task">
        <value>0</value>
        <span>Active tasks</span>
    </div>
    <div class="task__field" id="task__completed">
        <value>0</value>
        <span>Completed</span>
    </div>
    </div>
    <div>
      <button id="addTaskBtn">+ Add Task </button>
  </div>
  </div>

  <div class="task__history">
    <div class="task__history__comment">
      <div class="task__history__circle"></div>
      <div class="task__history__text">
        <span>No tasks yet</span>
        <span>Click "Add Task" to create your first task</span>
      </div>
    </div>
  </div>
</div>
   
   <script src="./task-manager.js"></script>
   <script>
    const modal = document.getElementById("taskModal");
const addTaskBtn = document.getElementById("addTaskBtn");
const closeBtn = document.getElementById("closeModal");
const cancelBtn = document.getElementById("cancelTask");
const createBtn = document.getElementById("createTask");

// OPEN MODAL
addTaskBtn.addEventListener("click", () => {
  modal.style.display = "flex";
});

// CLOSE MODAL
closeBtn.addEventListener("click", closeModal);
cancelBtn.addEventListener("click", closeModal);

function closeModal() {
  modal.style.display = "none";
}


// ========== CREATE TASK FROM MODAL ==========
createBtn.addEventListener("click", () => {

  const title = document.getElementById("taskTitle").value.trim();
  const description = document.getElementById("taskDesc").value.trim();
  const priority = document.getElementById("taskPriority").value;
  const date = document.getElementById("taskDate").value;

  if (!title) return alert("Title is required");

  const newTask = {
    id: Date.now(),
    title,
    description,
    priority,
    date,
    completed: false
  };

  const tasks = JSON.parse(localStorage.getItem("tasks")) || [];
  tasks.push(newTask);
  localStorage.setItem("tasks", JSON.stringify(tasks));

  closeModal();
  clearModal();
  renderTasks();    // your existing function
  updateCounters(); // your existing function
});

// CLEAR FORM
function clearModal() {
  taskTitle.value = "";
  taskDesc.value = "";
  taskDate.value = "";
  taskPriority.value = "Medium";
}

   </script>
   
   
   
   





















  